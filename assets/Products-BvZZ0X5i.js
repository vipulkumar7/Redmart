import{u as w,a as R,r as t,j as s,H as D,F as p,f as k,b as E,c as I,e as A}from"./index-mFqidmet.js";import{R as B}from"./react-paginate-BYQnUyi6.js";import{g as O,h as m,f as F,e as H}from"./index-A1Kw-1g4.js";import{u as L}from"./setDocumentTitle-ByaI7n5_.js";import{u as _}from"./useDispatch-BmuRceBY.js";const V=()=>{const c=_(),j=w();L("Products");const l=R(e=>e.productReducer.serachProduct),[n,d]=t.useState([]),[v,P]=t.useState(0),[u,S]=t.useState(0),[o,f]=t.useState(""),[x,h]=t.useState(!1),i=8;t.useEffect(()=>{const e=u+i;d(l.slice(u,e)),P(Math.ceil(l.length/i))},[u,i,l]),t.useEffect(()=>{c(O()),c(m("")),h(!0)},[c]);const N=e=>{const r=e.selected*i%l.length;S(r)},y=e=>{const r=[...n];e.target.value==="sortByRating"?d(r.sort((a,g)=>a.rating.rate-g.rating.rate)):e.target.value==="sortByPrice"&&d(r.sort((a,g)=>a.price-g.price))},C=e=>{o!==""&&e.key==="Enter"&&(c(m(o)),h(!1))},b=()=>{f(""),c(m("")),h(!0)};return s.jsxs("div",{id:"page-container",children:[s.jsx(D,{}),s.jsxs("div",{className:"small-container",id:"content-wrap",children:[s.jsxs("div",{className:"row row-2",children:[s.jsx("h2",{children:"All Products"}),s.jsx("input",{className:"search",type:"search",placeholder:"Search here",value:o,onKeyPress:e=>{C(e)},onChange:e=>f(e.target.value)}),s.jsxs("select",{className:"dropdown1",defaultValue:"default",onChange:e=>{y(e)},children:[s.jsx("option",{value:"default",disabled:!0,children:"Default Sorting"}),s.jsx("option",{value:"sortByPrice",children:"Sort by Price"}),s.jsx("option",{value:"sortByRating",children:"Sort by Rating"})]})]}),s.jsxs("div",{className:"row row-3",children:[s.jsx("span",{children:x?"":`Search Results on ${o}`}),s.jsx("span",{className:"cursor",onClick:()=>{b()},style:{color:"red"},children:x?"":"Clear"})]}),s.jsx("div",{className:"row",children:n&&n.map(e=>s.jsxs("div",{className:"col_4",onClick:()=>{j(`/product/${e.id}`)},children:[s.jsx("img",{src:e.image,alt:"item-1",width:"230px",height:"300px",loading:"lazy"}),s.jsx("h3",{className:"brandName",children:e.brand}),s.jsx("h4",{children:e.title}),s.jsxs("div",{className:"rating",children:[F(e).map((r,a)=>s.jsx(p,{icon:k},a)),H(e).map((r,a)=>s.jsx(p,{icon:E},a))]}),s.jsxs("p",{children:[s.jsx(p,{icon:I})," ",e.price]})]},e.id))}),s.jsx(B,{previousLabel:n.length!==0?"← Prev":"",nextLabel:n.length!==0?"Next →":"",breakLabel:"...",disabledClassName:"disable-decrement-cart",pageCount:v,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:N,containerClassName:"pagination",activeClassName:"active"})]}),s.jsx(A,{})]})};export{V as default};
