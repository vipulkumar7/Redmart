import{u as f,l as y,a as g,r as C,j as s,H as N,F as n,c as i,m as v,n as k,o as F,e as S}from"./index-mFqidmet.js";import{s as o}from"./sweetalert.min-Zd7JIkGb.js";import{u as P}from"./setDocumentTitle-ByaI7n5_.js";import{g as R,d as q,c as A,a as M}from"./actions-BdD-Ejgg.js";import{u as T}from"./useDispatch-BmuRceBY.js";const D=()=>{const c=T(),a=f(),{userLoggedIn:d}=y(),t=g(e=>e.cartReducer1.cartData),l=t.reduce((e,r)=>e+r.price*r.quantity,0),h=l*.05,x=l*1.05;P("Cart"),C.useEffect(()=>{c(R())},[]);const j=e=>{o("Are you sure you want to remove this item?",{buttons:["Cancel","Remove"]}).then(function(r){r&&(o({title:"Remove Item",text:`Successfully removed ${e.title} from your cart`,icon:"success"}),c(q(e.id)))})},u=e=>{c(A(e))},m=e=>{c(M(e))},p=e=>{a(`/product/${e}`)},b=()=>{!d&&o({title:"Please login before goto payment page."}),d?a("/checkout",{state:{cartData:t,total:x}}):a("/login")};return s.jsxs("div",{id:"page-container",children:[s.jsx(N,{}),(t==null?void 0:t.length)!==0&&t?s.jsx("div",{className:"small-container cart-page",id:"content-wrap",children:s.jsxs("table",{className:"table1",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Product"}),s.jsx("th",{children:"Quantity"}),s.jsx("th",{children:"Subtotal"})]})}),s.jsx("tbody",{children:t==null?void 0:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cart-info",children:[s.jsx("img",{src:e.image,alt:"buy-1",loading:"lazy"}),s.jsx("div",{children:s.jsxs("div",{className:"cursor",onClick:()=>{p(e.id)},children:[s.jsx("h3",{className:"brandName",children:e.brand}),s.jsx("p",{className:"ellipsis",children:e.title}),s.jsxs("small",{children:["Price:"," ",s.jsx(n,{icon:i})," ",e.price]}),s.jsxs("small",{className:"sizein-cart",children:[" ","Size: ",e.size]}),s.jsx("br",{})]})})]})}),s.jsxs("td",{children:[s.jsx("span",{className:"btn-remove cursor",onClick:()=>{j(e)},children:s.jsx(n,{icon:v})}),s.jsx("span",{className:e.quantity>1?"cart-btn cursor":"cart-btn cursor disable-decrement-cart",onClick:()=>{m(e)},children:s.jsx(n,{icon:k})}),s.jsxs("span",{children:[e.quantity," "]}),s.jsx("span",{className:e.quantity<10?"cart-btn cursor":"cart-btn cursor disable-decrement-cart",onClick:()=>{u(e)},children:s.jsx(n,{icon:F})})]}),s.jsxs("td",{children:[s.jsx(n,{icon:i})," ",(Math.round(e.quantity*e.price*100)/100).toFixed(2)]})]},e.id))}),s.jsxs("tfoot",{className:"total-price",children:[s.jsxs("tr",{children:[s.jsx("td",{}),s.jsx("td",{children:"Subtotal"}),s.jsxs("td",{children:[s.jsx(n,{icon:i})," ",(Math.round(l*100)/100).toFixed(2)]})]}),s.jsxs("tr",{children:[s.jsx("td",{}),s.jsx("td",{children:"Tax"}),s.jsxs("td",{children:[s.jsx(n,{icon:i})," ",(Math.round(h*100)/100).toFixed(2)]})]}),s.jsxs("tr",{children:[s.jsx("td",{}),s.jsx("td",{children:"Total"}),s.jsxs("td",{children:[s.jsx(n,{icon:i})," ",(Math.round(x*100)/100).toFixed(2)]})]}),s.jsxs("tr",{children:[s.jsx("td",{}),s.jsx("td",{}),s.jsx("td",{children:s.jsx("button",{className:"btn1",onClick:()=>{b()},children:"Place Order"})})]})]})]})}):s.jsx("div",{children:s.jsx("h1",{className:"empty-cart",children:" Your cart is empty!"})}),s.jsx(S,{})]})};export{D as default};
